<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Fingerprint & Signature Capture</title>

<!-- Scan sound -->
<audio id="scan-sound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_5f5a651cd4.mp3?filename=beep-6-96243.mp3" preload="auto"></audio>

<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(to right, #e0f7fa, #fce4ec);
    padding: 20px;
    color: #333;
  }

  .company-info {
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    color: #4a148c;
    margin-bottom: 20px;
  }

  #intro, #capture { display: none; }
  #intro.active, #capture.active { display: block; }

  #flags {
    text-align: center;
    margin-bottom: 20px;
  }
  #flags img {
    width: 100px;
    height: auto;
    margin: 0 10px;
    vertical-align: middle;
  }

  button {
    padding: 12px 30px;
    font-size: 18px;
    background: #4a90e2;
    border: none;
    color: white;
    border-radius: 6px;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(74,144,226,0.4);
    transition: background 0.3s ease;
  }
  button:hover:not(:disabled) {
    background: #357ABD;
  }
  button:disabled {
    background: #a0a9b8;
    cursor: default;
  }

  h1, h2 {
    text-align: center;
    margin-bottom: 20px;
    color: #2c3e50;
  }

  .finger-container {
    max-width: 600px;
    margin: 0 auto 30px auto;
    display: flex;
    justify-content: space-between;
    gap: 15px;
    flex-wrap: wrap;
  }

  .finger-scan {
    flex: 1 1 100px;
    max-width: 110px;
    background: linear-gradient(145deg, #e0e7ff, #c7d2fe);
    border-radius: 50% / 70% 70% 30% 30%;
    box-shadow: 0 10px 15px rgba(0, 0, 0, 0.12),
                inset 0 3px 8px rgba(255, 255, 255, 0.8);
    padding: 20px 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
    transition: all 0.4s ease;
    position: relative;
    user-select: none;
    margin-bottom: 15px;
  }
  .finger-scan:hover:not(.completed):not(.scanning) {
    box-shadow: 0 14px 25px rgba(0, 0, 0, 0.18),
                inset 0 5px 10px rgba(255, 255, 255, 0.9);
    transform: scale(1.05);
  }
  .finger-scan.scanning {
    background: linear-gradient(145deg, #fff59d, #fff176);
    box-shadow: 0 12px 22px rgba(255, 235, 59, 0.5),
                inset 0 6px 12px rgba(255, 255, 224, 0.9);
    transform: scale(1.1);
    cursor: wait;
  }
  .finger-scan.completed {
    background: linear-gradient(145deg, #a5d6a7, #81c784);
    box-shadow: 0 10px 20px rgba(76, 175, 80, 0.6),
                inset 0 4px 9px rgba(200, 230, 201, 0.95);
    transform: scale(1);
    cursor: default;
  }

  .finger-scan img {
    width: 70px;
    height: 90px;
    margin-bottom: 15px;
    filter: drop-shadow(0 3px 3px rgba(0,0,0,0.15));
    border-radius: 40% / 60%;
  }

  .finger-scan .text {
    font-size: 18px;
    font-weight: 700;
    color: #2c3e50;
    margin-bottom: 6px;
    text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.7);
  }
  .finger-scan .status {
    font-weight: 700;
    color: #388e3c;
    font-size: 14px;
    height: 20px;
    text-align: center;
  }

  .scan-line {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    background: linear-gradient(to bottom, transparent 40%, rgba(255,255,255,0.8) 50%, transparent 60%);
    background-size: 100% 200%;
    opacity: 0;
    border-radius: inherit;
    z-index: 2;
    pointer-events: none;
  }

  .finger-scan.scanning .scan-line {
    animation: scan-animation 1.5s linear infinite;
    opacity: 1;
  }

  @keyframes scan-animation {
    0% { background-position: 0 -100%; }
    100% { background-position: 0 200%; }
  }

  #name-container {
    max-width: 400px;
    margin: 20px auto 40px auto;
    display: flex;
    flex-direction: column;
    text-align: center;
  }
  #name-container label {
    font-size: 18px;
    margin-bottom: 8px;
    color: #555;
  }
  #name-input {
    padding: 12px 15px;
    font-size: 18px;
    border-radius: 8px;
    border: 1.5px solid #ccc;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
    transition: border-color 0.3s ease;
  }
  #name-input:focus {
    outline: none;
    border-color: #4a90e2;
  }

  #signature-pad {
    display: block;
    margin: 0 auto;
    background: white;
    border-radius: 12px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.1);
    border: 2px solid #ddd;
    cursor: crosshair;
    user-select: none;
    touch-action: none;
  }

  #signature-buttons {
    text-align: center;
    margin-top: 15px;
  }
  #signature-buttons button {
    margin: 0 10px;
    width: 140px;
  }

  #submit-btn {
    margin: 10px;
    background: #27ae60;
  }

  #reset-all {
    background: #e74c3c;
    margin: 10px;
  }
</style>
</head>
<body>

<!-- Flags on top -->
<div id="flags">
  <img src="https://upload.wikimedia.org/wikipedia/commons/7/71/Flag_of_Ethiopia.svg" alt="Ethiopia Flag" />
  <img src="https://upload.wikimedia.org/wikipedia/en/c/cf/Flag_of_Canada.svg" alt="Canada Flag" />
</div>

<!-- Company Name -->
<div class="company-info">MESRAK GENERAL TRADING PLC 0950519065</div>

<!-- Intro -->
<div id="intro" class="active">
  <h1>Welcome to Fingerprint & Signature Capture</h1>
  <button id="startBtn">Start</button>
</div>

<!-- Capture Section -->
<div id="capture">
  <div class="company-info">MESRAK GENERAL TRADING PLC 0950519065</div>

  <div id="name-container">
    <label for="name-input">Enter Your Full Name:</label>
    <input id="name-input" type="text" placeholder="John Doe" />
  </div>

  <h2>Fingerprint Scans</h2>
  <div class="finger-container">
    <div class="finger-scan" id="thumb">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Fingerprint_pattern.svg/90px-Fingerprint_pattern.svg.png" alt="Thumb" />
      <div class="text">Thumb</div>
      <div class="status"></div>
      <div class="scan-line"></div>
    </div>
    <div class="finger-scan" id="index">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Fingerprint_pattern.svg/90px-Fingerprint_pattern.svg.png" alt="Index" />
      <div class="text">Index</div>
      <div class="status"></div>
      <div class="scan-line"></div>
    </div>
    <div class="finger-scan" id="middle">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Fingerprint_pattern.svg/90px-Fingerprint_pattern.svg.png" alt="Middle" />
      <div class="text">Middle</div>
      <div class="status"></div>
      <div class="scan-line"></div>
    </div>
    <div class="finger-scan" id="ring">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Fingerprint_pattern.svg/90px-Fingerprint_pattern.svg.png" alt="Ring" />
      <div class="text">Ring</div>
      <div class="status"></div>
      <div class="scan-line"></div>
    </div>
    <div class="finger-scan" id="little">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Fingerprint_pattern.svg/90px-Fingerprint_pattern.svg.png" alt="Little" />
      <div class="text">Little</div>
      <div class="status"></div>
      <div class="scan-line"></div>
    </div>
  </div>

  <h2>Sign Below</h2>
  <canvas id="signature-pad" width="400" height="150"></canvas>
  <div id="signature-buttons">
    <button id="clear-signature">Clear Signature</button>
  </div>

  <div style="text-align: center; margin-top: 20px;">
    <button id="submit-btn">Submit</button>
    <button id="reset-all">Reset All</button>
  </div>
</div>

<script>
const startBtn = document.getElementById('startBtn');
const introDiv = document.getElementById('intro');
const captureDiv = document.getElementById('capture');
const fingers = ['thumb', 'index', 'middle', 'ring', 'little'];
const signaturePad = document.getElementById('signature-pad');
const ctx = signaturePad.getContext('2d');
const clearBtn = document.getElementById('clear-signature');
const submitBtn = document.getElementById('submit-btn');
const resetBtn = document.getElementById('reset-all');
const nameInput = document.getElementById('name-input');
const scanSound = document.getElementById('scan-sound');

let drawing = false;
let lastX = 0;
let lastY = 0;

startBtn.addEventListener('click', () => {
  introDiv.classList.remove('active');
  captureDiv.classList.add('active');
});

fingers.forEach(id => {
  const fingerDiv = document.getElementById(id);
  fingerDiv.addEventListener('click', () => {
    if (fingerDiv.classList.contains('completed') || fingerDiv.classList.contains('scanning')) return;
    fingerDiv.classList.add('scanning');
    fingerDiv.querySelector('.status').textContent = 'Scanning...';
    scanSound.currentTime = 0;
    scanSound.play();
    setTimeout(() => {
      fingerDiv.classList.remove('scanning');
      fingerDiv.classList.add('completed');
      fingerDiv.querySelector('.status').textContent = 'Scan Complete';
    }, 2000);
  });
});

function getPointerPos(e) {
  const rect = signaturePad.getBoundingClientRect();
  let x, y;
  if (e.touches) {
    x = e.touches[0].clientX - rect.left;
    y = e.touches[0].clientY - rect.top;
  } else {
    x = e.clientX - rect.left;
    y = e.clientY - rect.top;
  }
  return {x, y};
}

function startDrawing(e) {
  e.preventDefault();
  drawing = true;
  const pos = getPointerPos(e);
  lastX = pos.x;
  lastY = pos.y;
  ctx.beginPath();
  ctx.moveTo(lastX, lastY);
}
function draw(e) {
  if (!drawing) return;
  e.preventDefault();
  const pos = getPointerPos(e);
  ctx.lineTo(pos.x, pos.y);
  ctx.strokeStyle = '#000';
  ctx.lineWidth = 2;
  ctx.lineCap = 'round';
  ctx.lineJoin = 'round';
  ctx.stroke();
  lastX = pos.x;
  lastY = pos.y;
}
function stopDrawing(e) {
  if (!drawing) return;
  e.preventDefault();
  drawing = false;
}

signaturePad.addEventListener('mousedown', startDrawing);
signaturePad.addEventListener('touchstart', startDrawing);
signaturePad.addEventListener('mousemove', draw);
signaturePad.addEventListener('touchmove', draw);
signaturePad.addEventListener('mouseup', stopDrawing);
signaturePad.addEventListener('touchend', stopDrawing);
signaturePad.addEventListener('mouseout', stopDrawing);

clearBtn.addEventListener('click', () => {
  ctx.clearRect(0, 0, signaturePad.width, signaturePad.height);
});

resetBtn.addEventListener('click', () => {
  ctx.clearRect(0, 0, signaturePad.width, signaturePad.height);
  nameInput.value = '';
  fingers.forEach(id => {
    const fingerDiv = document.getElementById(id);
    fingerDiv.classList.remove('completed', 'scanning');
    fingerDiv.querySelector('.status').textContent = '';
  });
});

function isSignatureEmpty() {
  const blank = document.createElement('canvas');
  blank.width = signaturePad.width;
  blank.height = signaturePad.height;
  return signaturePad.toDataURL() === blank.toDataURL();
}

submitBtn.addEventListener('click', () => {
  const name = nameInput.value.trim();
  if (!name) {
    alert('Please enter your full name.');
    nameInput.focus();
    return;
  }
  const allScanned = fingers.every(id => {
    return document.getElementById(id).classList.contains('completed');
  });
  if (!allScanned) {
    alert('Please scan all five fingers.');
    return;
  }
  if (isSignatureEmpty()) {
    alert('Please provide your signature.');
    return;
  }
  alert(`Submission successful!\nName: ${name}\nAll fingers scanned and signature captured.`);
});
</script>
</body>
</html>